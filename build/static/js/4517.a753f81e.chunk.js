"use strict";(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[4517],{54517:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var s=a(9950),l=a(34806),c=a.n(l),n=a(28429),r=a(27232),d=a(44933);const i=new class{getActiveFancies(e,t){return d.Ay.get(`active-fancies?matchId=${e}&gtype=${t}`)}suspendFancy(e,t,a){return d.Ay.get(`suspend-fancy?marketId=${e}&matchId=${t}&type=${a}`)}fancyResult(e,t,a){return d.Ay.get(`result-fancy?marketId=${e}&matchId=${t}&result=${a}`)}fancyResultRollback(e,t){return d.Ay.get(`fancy-result-rollback?marketId=${e}&matchId=${t}`)}};var o=a(44414);const m=()=>{const[e,t]=s.useState([]),[a,l]=s.useState({}),[d,m]=s.useState(null),[u,h]=s.useState("session"),[x,f]=s.useState(!1),{matchId:p}=(0,n.g)(),y=()=>{i.getActiveFancies(p,u).then((e=>{t(e.data.data)}))};s.useEffect((()=>{y();const e=setInterval((()=>{y()}),2e4);return()=>{clearInterval(e)}}),[u]);const b=(a,s,l)=>{a.preventDefault(),i.suspendFancy(s.marketId,s.matchId,l).then((a=>{const c=[...e].map((e=>e.marketId===s.marketId?{...s,[l]:!s[l]}:e));t(c)}))};return(0,o.jsxs)("div",{className:"col-md-12 mt-2",children:[(0,o.jsxs)("div",{className:"",style:{maxWidth:"100%"},children:[(0,o.jsx)("ul",{role:"tablist",className:"nav nav-tabs fancy-group d-flex align-items-center justify-content-center","aria-label":"Tabs",children:(j=u,[{type:"session",label:"Fancy"},{type:"fancy1",label:"Fancy1"},{type:"wkt",label:"Wicket"},{type:"Four",label:"Four"},{type:"Sixes",label:"Six"},{type:"meter",label:"Meter"},{type:"khado",label:"Khado"},{type:"odd/even",label:"Odd/Even"},{type:"ballRun",label:"Ball Run"}].map((e=>(0,o.jsx)("li",{onClick:t=>{return a=e.type,void h(a);var a},className:"nav-item",children:(0,o.jsx)("a",{href:"#",onClick:e=>e.preventDefault(),role:"tab",className:"nav-link "+(j===e.type?"active":""),children:(0,o.jsx)("span",{style:{textTransform:"uppercase"},children:e.label})})},e.type))))}),(0,o.jsx)("table",{style:{width:"100%"},className:"table  table table-striped table-bordered m-t-10",children:(0,o.jsxs)("tbody",{children:[(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:8,style:{fontSize:"18px"},children:"Pending Fancy"})}),e.map(((e,t)=>(0,o.jsxs)("tr",{style:{backgroundColor:e.result?"#5eb873":e.bet?"yellow":"",color:e.result?"white":"black"},role:"row",className:"odd",children:[(0,o.jsx)("td",{children:(0,o.jsx)("i",{className:`fas fa-circle ${e.active?"text-success":"text-danger"} fa-lg mr-2`})}),(0,o.jsx)("td",{className:"text-left",children:e.fancyName}),(0,o.jsx)("td",{className:"text-left",children:e.result}),(0,o.jsx)("td",{className:"text-left",children:e.active?"Active":"In-Active"}),(0,o.jsx)("td",{className:"text-left",children:e.isSuspend?"Suspend":"Un-Suspend"}),(0,o.jsx)("td",{className:"text-left",children:(0,o.jsx)("a",{onClick:t=>b(t,e,"active"),href:"#",children:"InActivate"})}),(0,o.jsx)("td",{className:"text-left",children:(0,o.jsx)("a",{onClick:t=>b(t,e,"isSuspend"),href:"#",children:"Click To Suspend"})}),(0,o.jsxs)("td",{className:"text-left",children:[!e.result&&(0,o.jsx)("a",{onClick:t=>((e,t)=>{e.preventDefault(),f(!0),l(t)})(t,e),href:"#",children:"Result Declare"}),e.result&&(0,o.jsx)("a",{onClick:t=>((e,t)=>{e.preventDefault(),i.fancyResultRollback(t.marketId,t.matchId).then((()=>{r.oR.success("Result Rollback Successfully"),y()})).catch((e=>{const t=e;r.oR.error(t.message)}))})(t,e),href:"#",children:"Rollback"})]})]},e.marketId+e.fancyName+t)))]})})]}),(0,o.jsx)(c(),{isOpen:x,onRequestClose:e=>{f(!1)},contentLabel:"Set Max Bet Limit",className:"modal-dialog",ariaHideApp:!1,children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsxs)("h5",{children:["Set Result ",a.fancyName]}),(0,o.jsx)("button",{onClick:()=>f(!1),className:"close float-right",children:"X"})]}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),d||r.oR.error("Please enter result"),i.fancyResult(a.marketId,a.matchId,d).then((()=>{r.oR.success("Result Set"),f(!1),m(""),y()})).catch((e=>{const t=e;r.oR.error(t.message)}))},className:"form loginform",children:[(0,o.jsxs)("div",{className:"modal-body",children:[(0,o.jsxs)("div",{className:"row form-group",children:[(0,o.jsx)("div",{className:"col-md-5",children:(0,o.jsx)("label",{children:"Enter Result"})}),(0,o.jsxs)("div",{className:"col-md-7",children:[(0,o.jsx)("input",{type:"text",name:"result",onChange:e=>m(e.target.value),value:d||""}),"fancy1"===a.gtype&&(0,o.jsx)("strong",{children:"Note: Yes=1, No=0"})]})]}),(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",name:"result",onChange:e=>m(e.target.value),value:"-1"})," ","Abandoned"]})]}),(0,o.jsxs)("div",{className:"modal-footer",children:[(0,o.jsxs)("button",{type:"button",onClick:()=>f(!1),className:"btn btn-info","data-dismiss":"modal",children:[(0,o.jsx)("i",{className:"fas fa-undo-alt"})," Close"]}),(0,o.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,o.jsx)("i",{className:"fas fa-paper-plane"})," Submit"]})]})]})]})})]});var j}}}]);
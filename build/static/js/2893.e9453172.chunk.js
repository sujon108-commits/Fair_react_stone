(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[2893],{20381:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(9950),r=s(72509),n=s.n(r),l=s(44414);const c=(0,a.forwardRef)(((e,t)=>{let{onSuggestionsFetchRequested:s,onSelectUser:r,placeHolder:c,onSuggestionsClear:d}=e;const[i,o]=a.useState(""),[u,m]=a.useState([]),h={placeholder:c||"Search User",value:i,onChange:(e,t)=>{let{newValue:s}=t;o(s)}};return(0,a.useImperativeHandle)(t,(()=>({resetValue(){o(""),m([])}})),[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n(),{suggestions:u,onSuggestionsFetchRequested:e=>{let{value:t}=e;o(t),s({value:t}).then((e=>{m(e.data.data)}))},onSuggestionsClearRequested:()=>{},getSuggestionValue:e=>(r(e),e.username),renderSuggestion:e=>(0,l.jsx)("div",{className:"dropdown-item",children:e.username}),inputProps:h,theme:{suggestionsList:"dropdown-menu show",input:"mx-input",suggestionsContainer:"dropdown"}})})}))},62066:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var a=s(9950),r=s(27232),n=s(39564),l=s(59051),c=s.n(l),d=s(94552),i=s(41377),o=s(20381),u=s(28674),m=s(3170),h=s(18538),p=s(2318),g=s(44137),x=s(28429),b=s(94635),v=s(80387),j=s(44414);const N=e=>{var t;let{hideHeader:s,matchId:l}=e;const[N,y]=a.useState({}),w=(0,x.g)(),[f,S]=a.useState({status:"pending",type:w.type,matchId:l}),A=(0,u.G)(m.rt),[k,D]=a.useState(1),[C,U]=a.useState(!1),[T,R]=a.useState(!1),Y=(0,u.G)(v.Qg),{socketUser:P}=(0,g.E$)(),_=a.useRef(null);a.useEffect((()=>{const e=f;l||(e.startDate=c()().subtract(7,"days").format("YYYY-MM-DD"),e.endDate=c()().format("YYYY-MM-DD")),S(e),E(k)}),[]),a.useEffect((()=>{const e=f;l||(e.startDate=c()().subtract(7,"days").format("YYYY-MM-DD"),e.endDate=c()().format("YYYY-MM-DD")),e.type=w.type,S(e),E(k)}),[w.type]),a.useEffect((()=>{C&&(E(1),U(!1))}),[C]);const E=e=>{n.A.getUsercompletedbets(e,f).then((t=>{t&&t.data&&t.data.data&&y(t.data.data),D(e)})).catch((e=>{const t=e.response.data.message;r.oR.error(t)}))},I=e=>{S({...f,[e.target.name]:e.target.value})};return(0,j.jsxs)(j.Fragment,{children:[!s&&d.A.subheaderdesktopadmin("deleted"==w.type?"Deleted Bet History":"Unsettled Bet History"),(0,j.jsx)("div",{className:"container-fluid",children:(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:i.Fr?"col-md-12 padding-custom":"col-md-12 mt-1",children:(0,j.jsxs)("div",{className:"",children:[(0,j.jsx)("div",{className:"card-body p15 bg-gray mb-20",children:(0,j.jsx)("form",{className:"ng-pristine ng-valid ng-touched mb-0",method:"post",onSubmit:e=>{e.preventDefault(),U(!0)},children:(0,j.jsxs)("div",{className:"row row5",children:[(0,j.jsxs)("div",{className:"col-6 col-lg-2 mbc-5",children:[(0,j.jsx)("label",{className:"label",children:"User"}),(0,j.jsx)(o.A,{onSuggestionsFetchRequested:e=>{let{value:t}=e;return n.A.getUserListSuggestion({username:t})},onSelectUser:e=>{S({...f,userId:e._id})},ref:_})]}),(0,j.jsx)("div",{className:"col-6 col-lg-2 mbc-5",children:(0,j.jsxs)("div",{className:"form-group mb-0",children:[(0,j.jsx)("label",{className:"label",children:"Search By Name"}),(0,j.jsx)("input",{type:"text",className:"mx-input",name:"name",onChange:I,placeholder:"Search By Name"})]})}),(0,j.jsx)("div",{className:"col-6 col-lg-2 mbc-5",children:(0,j.jsxs)("div",{className:"form-group mb-0",children:[(0,j.jsx)("label",{className:"label",children:"Sport"}),(0,j.jsxs)("select",{name:"reportType",onChange:I,className:"custom-select ng-untouched ng-pristine ng-valid",children:[(0,j.jsx)("option",{value:"",children:"Select Sport"}),A.sports.map((e=>(0,j.jsxs)("option",{value:e.sportId,children:[e.name," "]},e.sportId)))]})]})}),(0,j.jsx)("div",{className:"col-6 col-lg-2 mbc-5",children:(0,j.jsxs)("div",{className:"form-group mb-0",children:[(0,j.jsx)("label",{className:"label",children:"Start Date"}),(0,j.jsx)("div",{className:"mx-datepicker",children:(0,j.jsx)("div",{className:"mx-input-wrapper",children:(0,j.jsx)("input",{name:"startDate",type:"datetime-local",autoComplete:"off",onChange:I,defaultValue:f.startDate,placeholder:"Select Date",className:"mx-input ng-pristine ng-valid ng-touched"})})})]})}),(0,j.jsx)("div",{className:"col-6 col-lg-2 mbc-5",children:(0,j.jsxs)("div",{className:"form-group mb-0",children:[(0,j.jsx)("label",{className:"label",children:"End Date"}),(0,j.jsx)("div",{className:"mx-datepicker",children:(0,j.jsx)("div",{className:"mx-input-wrapper",children:(0,j.jsx)("input",{name:"endDate",type:"datetime-local",autoComplete:"off",defaultValue:f.endDate,onChange:I,placeholder:"Select Date",className:"mx-input ng-untouched ng-pristine ng-valid"})})})]})}),(0,j.jsxs)("div",{className:"col-12 col-lg-1 mbc-5",children:[(0,j.jsx)("label",{className:"label",children:"\xa0"}),(0,j.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Submit"})]}),(0,j.jsxs)("div",{className:"col-12 col-lg-1 mbc-5",children:[(0,j.jsx)("label",{className:"label",children:"\xa0"}),(0,j.jsx)("button",{type:"button",onClick:()=>{_.current.resetValue(),S({status:"pending"}),U(!0)},className:"btn btn-primary btn-block",children:"Reset"})]}),(null===Y||void 0===Y||null===(t=Y.user)||void 0===t?void 0:t.role)===b.T.admin&&(0,j.jsxs)("div",{className:"col-12 col-lg-1 mbc-5",children:[(0,j.jsx)("label",{className:"label",children:"\xa0"}),(0,j.jsx)("button",{type:"button",onClick:()=>{const e=N.docs.reduce(((e,t)=>(t.selected&&(e=!0),e)),!1);if(T||e){const e=N.docs.filter((e=>e.selected)).map((e=>e._id));e.length>0&&h.A.deleteBets({ids:e}).then((e=>{e.data.data.success&&(y({...N,docs:N.docs.filter((e=>!e.selected))}),R(!1),r.oR.success(e.data.message))}))}else r.oR.error("Please select one item")},className:"btn btn-primary btn-block",children:"Delete"})]})]})})}),(0,j.jsx)("div",{className:"card-body",children:(0,j.jsx)(p.A,{bethistory:N,handlePageClick:e=>{E(e.selected+1)},onTrash:(e,t)=>{if(e.preventDefault(),!t._id)return void r.oR.error("Invalid bet data. Unable to delete.");window.confirm("Are you sure you want to delete?")&&h.A.deleteCurrentBet(t._id).then((e=>{const{success:s,message:a}=e.data.data;s?(P.emit("betDelete",{betId:t._id,userId:t.userId}),r.oR.success(a),y((e=>({...e,docs:e.docs.filter((e=>{let{_id:s}=e;return s!==t._id}))})))):r.oR.error("Failed to delete bet.")})).catch((e=>{console.error("Error deleting bet:",e),r.oR.error("An error occurred while deleting the bet.")}))},page:k,isTrash:!0,handleSelectAll:()=>{R(!T);const e=N.docs.map((e=>({...e,selected:!T})));y({...N,docs:e})},selectAll:T,handleSelectItem:e=>{const t=N.docs.map((t=>t===e?{...t,selected:!t.selected}:t));y({...N,docs:t})}})})]})})})})]})}},2318:(e,t,s)=>{"use strict";s.d(t,{A:()=>h});var a=s(59051),r=s.n(a),n=s(99198),l=s.n(n),c=s(94635),d=s(80387),i=s(28674),o=s(54088),u=s(44414);const m=e=>{var t;return""!=e?(null===(t=o.a.SPORT_NAME.filter((t=>t.id==e))[0])||void 0===t?void 0:t.name)||"Casino":""},h=e=>{var t;let{bethistory:s,onTrash:a,handlePageClick:n,isTrash:o,handleSelectAll:h,selectAll:p,handleSelectItem:g}=e;const x=(0,i.G)(d.Qg),b=s&&s.docs&&s.docs.length?s.docs.map(((e,t)=>((e,t)=>{var s,n,l,d;const i=e.isBack?"back":"lay";return(0,u.jsxs)("tr",{className:i,children:[h&&(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:e.selected||!1,onChange:()=>null===g||void 0===g?void 0:g(e)})}),(null===x||void 0===x||null===(s=x.user)||void 0===s?void 0:s.role)!==c.T.user&&(0,u.jsx)("td",{className:"text-center wnwrap",children:e.parentNameStr}),(0,u.jsx)("td",{className:"text-center wnwrap",children:e.userName}),(0,u.jsx)("td",{className:"text-center wnwrap",children:e.matchName}),(0,u.jsxs)("td",{className:"text-center wnwrap",children:[e.selectionName," /"," ","Fancy"===e.marketName&&"fancy1"!==e.gtype?e.volume:e.odds," "]}),(0,u.jsx)("td",{className:"text-center wnwrap",children:m(e.sportId)}),(0,u.jsx)("td",{className:"text-center wnwrap",children:e.marketName}),(0,u.jsx)("td",{className:"text-center wnwrap",children:e.odds}),(0,u.jsx)("td",{className:"text-center wnwrap",children:e.stack}),(0,u.jsx)("td",{className:"text-center wnwrap",children:"completed"==e.status?null===e||void 0===e||null===(n=e.profitLoss)||void 0===n?void 0:n.toFixed(2):null===(l=e.pnl)||void 0===l?void 0:l.toFixed(2)}),(0,u.jsx)("td",{className:"text-center wnwrap",children:e.createdAt&&r()(null===e||void 0===e?void 0:e.createdAt).format("YYYY-MM-DD HH:mm:ss")}),o&&(0,u.jsx)("td",{className:"text-center wnwrap",children:"pending"==e.status&&(null===x||void 0===x||null===(d=x.user)||void 0===d?void 0:d.role)===c.T.admin&&(0,u.jsx)("a",{onClick:t=>a&&a(t,e),href:"#",children:(0,u.jsx)("i",{className:"fa fa-trash"})})})]},t)})(e,t))):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:11,style:{textAlign:"center"},children:"No Result Found"})});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"table-responsive",children:(0,u.jsxs)("table",{id:"customers1",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[h&&(0,u.jsx)("th",{className:"text-center bg2 text-white ",children:(0,u.jsx)("input",{type:"checkbox",checked:p||!1,onChange:h})}),(null===x||void 0===x||null===(t=x.user)||void 0===t?void 0:t.role)!==c.T.user&&(0,u.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Uplevel"}),(0,u.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"User Name"}),(0,u.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Event Name"}),(0,u.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Nation"}),(0,u.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Event Type"}),(0,u.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Type"}),(0,u.jsxs)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:["Rate"," "]}),(0,u.jsx)("th",{className:"text-center bg2 text-white ",children:"Amount"}),(0,u.jsx)("th",{className:"text-center bg2 text-white ",children:"P/L"}),(0,u.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Place Date"}),o&&(0,u.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Action"})]})}),(0,u.jsx)("tbody",{children:b})]})}),(0,u.jsx)(l(),{breakLabel:"...",nextLabel:">>",onPageChange:n,pageRangeDisplayed:5,pageCount:s.totalPages||0,containerClassName:"pagination",activeClassName:"active",previousLabel:"<<",breakClassName:"break-me"})]})}},94552:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(41377),r=s(44414);const n={subheader:e=>a.Fr?(0,r.jsx)("div",{className:"game-heading",children:(0,r.jsx)("span",{className:"card-header-title",children:e})}):"",subheaderdesktop:e=>a.Fr?"":(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("h4",{className:"mb-0",children:e})}),subheaderdesktopadmin:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,r.jsxs)("div",{className:"card-header card-header-admin mb-20",children:[(0,r.jsx)("h4",{className:"mb-0",children:e}),""!=t?(0,r.jsx)("div",{className:"m-t-5",children:t}):""]})}}},39564:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(44933);const r=new class{getUserList(e){let{username:t,type:s,search:r,status:n,page:l}=e;const c=n||"";return t?a.Ay.get(`/get-user-list/?username=${t}&search=${r}&type=${s}&status=${c}&page=${l}`):r&&s?a.Ay.get(`/get-user-list/?search=${r}&type=${s}&status=${c}&page=${l}`):a.Ay.get(`/get-user-list?status=${c}&page=${l}`)}getUserBook(){return a.Ay.get("/get-user-book")}getUserDetail(e){return a.Ay.get(`/get-user-detail/?username=${e}`)}getParentUserDetail(e){return a.Ay.get(`/get-parent-user-detail/?username=${e}`)}addUser(e){return a.Ay.post("/register",e)}updatePassword(e){return a.Ay.post("/update-user",e)}updateDepositBalance(e){return a.Ay.post("/user-account-balance",e)}updateUserExposureAndCreditLimit(e){return a.Ay.post("/update-user-wallet",e)}updateUserStake(e){return a.Ay.post("/save-user-stake",e)}getUserStake(){return a.Ay.get("/get-user-stake")}updateUserAndBetStatus(e){return a.Ay.post("/update-user-status",e)}updateuserpassword(e){return a.Ay.post("/update-password",e)}addTransactionPassword(e){return a.Ay.post("/add-transaction-password",e)}getUserBalance(){return a.Ay.get("/get-user-balance")}getUsercompletedbets(e,t){return a.Ay.post(`/alluserbetList?page=${e}`,t)}getUserListSuggestion(e){return a.Ay.post("get-user-list-suggestion",e)}saveGeneralSetting(e){return a.Ay.post("save-general-setting",e)}resetTxnPassword(e){return a.Ay.post("reset-transaction-password",e)}getExposerEvent(){return a.Ay.get("/get-exposer-event")}}},43488:(e,t,s)=>{"use strict";var a=s(93959);function r(){}function n(){}n.resetWarningCache=r,e.exports=function(){function e(e,t,s,r,n,l){if(l!==a){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:r};return s.PropTypes=s,s}},11942:(e,t,s)=>{e.exports=s(43488)()},93959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
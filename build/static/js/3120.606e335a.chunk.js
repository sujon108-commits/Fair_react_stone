"use strict";(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[3120],{20381:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(9950),l=s(72509),n=s.n(l),r=s(44414);const c=(0,a.forwardRef)(((e,t)=>{let{onSuggestionsFetchRequested:s,onSelectUser:l,placeHolder:c,onSuggestionsClear:d}=e;const[i,o]=a.useState(""),[u,h]=a.useState([]),m={placeholder:c||"Search User",value:i,onChange:(e,t)=>{let{newValue:s}=t;o(s)}};return(0,a.useImperativeHandle)(t,(()=>({resetValue(){o(""),h([])}})),[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n(),{suggestions:u,onSuggestionsFetchRequested:e=>{let{value:t}=e;o(t),s({value:t}).then((e=>{h(e.data.data)}))},onSuggestionsClearRequested:()=>{},getSuggestionValue:e=>(l(e),e.username),renderSuggestion:e=>(0,r.jsx)("div",{className:"dropdown-item",children:e.username}),inputProps:m,theme:{suggestionsList:"dropdown-menu show",input:"mx-input",suggestionsContainer:"dropdown"}})})}))},53120:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var a=s(59051),l=s.n(a),n=s(9950),r=s(99198),c=s.n(r),d=s(27232),i=s(4446),o=s(41925),u=s(41377),h=s(94552),m=s(39564),p=s(20381),x=s(18538),g=s(34806),v=s.n(g),j=s(2318),w=s(28674),b=s(96487),N=s(44414);const y=()=>{const e=(0,w.G)(b.Mm),[t,s]=n.useState({}),[a,r]=n.useState([]),[g,y]=n.useState(0),[A,S]=n.useState([]),[f,k]=n.useState(0),[C]=n.useState(50),[D,L]=n.useState(0),[$,F]=n.useState(!1),[M,U]=n.useState({}),[Y,B]=n.useState({}),[P,R]=n.useState(0),[T,E]=n.useState({startDate:"",endDate:"",reportType:"All",userId:""}),[_,H]=n.useState(1),[I,G]=n.useState(1);n.useEffect((()=>{const e=f+C;S(a.slice(f,e)),L(Math.ceil(a.length/C))}),[f,C,a]);n.useEffect((()=>{const e=T;e.startDate=l()().subtract(7,"days").format("YYYY-MM-DD"),e.endDate=l()().format("YYYY-MM-DD"),E(e)}),[]);const q=e=>{i.A.getAccountList(e,T).then((t=>{var a,n,c,d,i,u,h,m,p,x,g;null!==t&&void 0!==t&&null!==(a=t.data)&&void 0!==a&&a.data&&s((null===t||void 0===t||null===(n=t.data)||void 0===n||null===(c=n.data)||void 0===c?void 0:c.items)||[]),null!==t&&void 0!==t&&null!==(d=t.data)&&void 0!==d&&null!==(i=d.data)&&void 0!==i&&i.items&&0==e&&R((null===t||void 0===t||null===(u=t.data)||void 0===u||null===(h=u.data)||void 0===h?void 0:h.openingBalance)||0),r(((e,t)=>{const s=[];return e&&e.map(((e,a)=>{t+=e.amount,s.push({_id:e._id,sr_no:a+1,date:l()(e.createdAt).format(o.i$),credit:e.amount,debit:e.amount,closing:t.toFixed(2),narration:e.narration,type:e.type,stmt:e})})),s})((null===t||void 0===t||null===(m=t.data)||void 0===m||null===(p=m.data)||void 0===p?void 0:p.items)||[],(null===t||void 0===t||null===(x=t.data)||void 0===x||null===(g=x.data)||void 0===g?void 0:g.openingBalance)||0)),H(e)})).catch((e=>{console.log(e),d.oR.error("error")}))},V=e=>{const t=T;t[e.target.name]=e.target.value,E(t)};n.useEffect((()=>{$&&O(Y,I)}),[Y,I,$]);const O=(e,t)=>{var s;const a=null===e||void 0===e||null===(s=e.allBets)||void 0===s?void 0:s.map((e=>{let{betId:t}=e;return t}));a&&a.length>0&&x.A.getBetListByIds(a,t).then((e=>{F(!0),U(e.data.data),G(t)}))};return(0,N.jsxs)(N.Fragment,{children:[h.A.subheaderdesktopadmin("Account Statements"),(0,N.jsx)("div",{className:"container-fluid",children:(0,N.jsx)("div",{className:"row",children:(0,N.jsxs)("div",{className:u.Fr?"col-md-12 padding-custom":"col-md-12 mt-1",children:[(0,N.jsx)("div",{className:"card-body p15 bg-gray mb-20",children:(0,N.jsx)("form",{className:"ng-pristine ng-valid ng-touched mb-0",method:"post",onSubmit:e=>{e.preventDefault(),q(1)},children:(0,N.jsxs)("div",{className:"row row5",children:[(0,N.jsxs)("div",{className:"col-6 col-lg-2 mbc-5",children:[(0,N.jsx)("label",{className:"label",children:"User"}),(0,N.jsx)(p.A,{onSuggestionsFetchRequested:e=>{let{value:t}=e;return m.A.getUserListSuggestion({username:t})},onSelectUser:e=>{E({...T,userId:e._id})}})]}),(0,N.jsx)("div",{className:"col-6 col-lg-2 mbc-5",children:(0,N.jsxs)("div",{className:"form-group mb-0",children:[(0,N.jsx)("label",{className:"label",children:"Start Date"}),(0,N.jsx)("div",{className:"mx-datepicker",children:(0,N.jsx)("div",{className:"mx-input-wrapper",children:(0,N.jsx)("input",{name:"startDate",type:"date",autoComplete:"off",onChange:V,defaultValue:T.startDate,placeholder:"Select Date",className:"mx-input ng-pristine ng-valid ng-touched"})})})]})}),(0,N.jsx)("div",{className:"col-6 col-lg-2 mbc-5",children:(0,N.jsxs)("div",{className:"form-group mb-0",children:[(0,N.jsx)("label",{className:"label",children:"End Date"}),(0,N.jsx)("div",{className:"mx-datepicker",children:(0,N.jsx)("div",{className:"mx-input-wrapper",children:(0,N.jsx)("input",{name:"endDate",type:"date",autoComplete:"off",defaultValue:T.endDate,onChange:V,placeholder:"Select Date",className:"mx-input ng-untouched ng-pristine ng-valid"})})})]})}),(0,N.jsx)("div",{className:"col-12 col-lg-2 mbc-5",children:(0,N.jsxs)("div",{className:"form-group mb-0",children:[(0,N.jsx)("label",{className:"label",children:"Type"}),(0,N.jsxs)("select",{name:"reportType",onChange:V,className:"custom-select ng-untouched ng-pristine ng-valid",children:[(0,N.jsx)("option",{value:"ALL",children:"All "}),(0,N.jsx)("option",{value:"chip",children:"Deposit/Withdraw "}),(0,N.jsx)("option",{value:"game",children:"Game Report "})]})]})}),(0,N.jsxs)("div",{className:"col-12 col-lg-1 mbc-5",children:[(0,N.jsx)("label",{className:"label",children:"\xa0"}),(0,N.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Submit"})]})]})})}),(0,N.jsxs)("div",{className:"card-body",children:[(0,N.jsx)("div",{className:"table-responsive",children:(0,N.jsxs)("table",{className:"text-center",id:"customers1",children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{style:{width:"10%",textAlign:"center",whiteSpace:"nowrap"},children:"Sr No."}),(0,N.jsxs)("th",{style:{width:"20%",textAlign:"center",whiteSpace:"nowrap"},children:["Date"," "]}),(0,N.jsx)("th",{style:{width:"10%",textAlign:"center"},children:"Credit "}),(0,N.jsx)("th",{style:{width:"10%",textAlign:"center"},children:"Debit"}),(0,N.jsx)("th",{style:{width:"10%",textAlign:"center"},children:"Balance"}),(0,N.jsx)("th",{style:{width:"10%",textAlign:"center"},children:"From"}),(0,N.jsx)("th",{style:{width:"45%",textAlign:"center"},children:"Remark"})]})}),(0,N.jsxs)("tbody",{children:[a.length<=0||a.length>0&&a.length<=0&&(0,N.jsx)("tr",{children:(0,N.jsx)("td",{colSpan:8,className:"text-center",children:"No Result Found"})}),a.length>0&&a.length>0&&0==_&&(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{children:"-"}),(0,N.jsx)("td",{className:"wnwrap",children:l()(a[0].createdAt).format(o.i$)}),(0,N.jsx)("td",{children:"-"}),(0,N.jsx)("td",{children:"-"}),(0,N.jsx)("td",{className:"wnwrap",children:P}),(0,N.jsx)("td",{className:"wnwrap",children:"Opening Balance"})]},a[0]._id),(()=>{let e=1==_?P:g;return A&&A.map(((t,s)=>(e+=t.amount,(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{children:t.sr_no}),(0,N.jsx)("td",{className:"wnwrap",children:t.date}),(0,N.jsx)("td",{className:"green wnwrap",children:t.credit>=0&&t.credit.toFixed(2)}),(0,N.jsx)("td",{className:"red wnwrap",children:t.credit<0&&t.credit.toFixed(2)}),(0,N.jsx)("td",{className:"green wnwrap",children:t.closing}),(0,N.jsx)("td",{children:t.stmt.txnBy}),(0,N.jsx)("td",{onClick:e=>((e,t)=>{e.preventDefault(),U({}),B(t),G(1),F(!0)})(e,t.stmt),children:(0,N.jsx)("span",{className:"pnl"==t.type?"label-button":"",children:t.narration})})]},`${t._id}${s}`))))})()]})]})}),(0,N.jsx)(c(),{breakLabel:"...",nextLabel:">>",onPageChange:e=>{const t=e.selected*C%a.length;k(t),H(e.selected)},pageRangeDisplayed:5,pageCount:D,containerClassName:"pagination",activeClassName:"active",previousLabel:"<<",breakClassName:"break-me"})]})]})})}),(0,N.jsx)(v(),{isOpen:$,onAfterClose:()=>F(!1),onRequestClose:e=>{F(!1)},contentLabel:"Set Max Bet Limit",className:"col-md-12",ariaHideApp:!1,children:(0,N.jsxs)("div",{className:"modal-content",children:[(0,N.jsxs)("div",{className:"modal-header",children:[(0,N.jsx)("h5",{children:"Bets"}),(0,N.jsx)("button",{onClick:()=>F(!1),className:"close float-right",children:(0,N.jsx)("i",{className:"fa fa-times-circle"})})]}),(0,N.jsx)("div",{className:"modal-body",children:!e&&(0,N.jsx)(j.A,{bethistory:M,handlePageClick:e=>{O(Y,e.selected+1)},page:_,isTrash:!1})})]})})]})}},2318:(e,t,s)=>{s.d(t,{A:()=>m});var a=s(59051),l=s.n(a),n=s(99198),r=s.n(n),c=s(94635),d=s(80387),i=s(28674),o=s(54088),u=s(44414);const h=e=>{var t;return""!=e?(null===(t=o.a.SPORT_NAME.filter((t=>t.id==e))[0])||void 0===t?void 0:t.name)||"Casino":""},m=e=>{var t;let{bethistory:s,onTrash:a,handlePageClick:n,isTrash:o,handleSelectAll:m,selectAll:p,handleSelectItem:x}=e;const g=(0,i.G)(d.Qg),v=s&&s.docs&&s.docs.length?s.docs.map(((e,t)=>((e,t)=>{var s,n,r,d;const i=e.isBack?"back":"lay";return(0,u.jsxs)("tr",{className:i,children:[m&&(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:e.selected||!1,onChange:()=>null===x||void 0===x?void 0:x(e)})}),(null===g||void 0===g||null===(s=g.user)||void 0===s?void 0:s.role)!==c.T.user&&(0,u.jsx)("td",{className:"text-center wnwrap",children:e.parentNameStr}),(0,u.jsx)("td",{className:"text-center wnwrap",children:e.userName}),(0,u.jsx)("td",{className:"text-center wnwrap",children:e.matchName}),(0,u.jsxs)("td",{className:"text-center wnwrap",children:[e.selectionName," /"," ","Fancy"===e.marketName&&"fancy1"!==e.gtype?e.volume:e.odds," "]}),(0,u.jsx)("td",{className:"text-center wnwrap",children:h(e.sportId)}),(0,u.jsx)("td",{className:"text-center wnwrap",children:e.marketName}),(0,u.jsx)("td",{className:"text-center wnwrap",children:e.odds}),(0,u.jsx)("td",{className:"text-center wnwrap",children:e.stack}),(0,u.jsx)("td",{className:"text-center wnwrap",children:"completed"==e.status?null===e||void 0===e||null===(n=e.profitLoss)||void 0===n?void 0:n.toFixed(2):null===(r=e.pnl)||void 0===r?void 0:r.toFixed(2)}),(0,u.jsx)("td",{className:"text-center wnwrap",children:e.createdAt&&l()(null===e||void 0===e?void 0:e.createdAt).format("YYYY-MM-DD HH:mm:ss")}),o&&(0,u.jsx)("td",{className:"text-center wnwrap",children:"pending"==e.status&&(null===g||void 0===g||null===(d=g.user)||void 0===d?void 0:d.role)===c.T.admin&&(0,u.jsx)("a",{onClick:t=>a&&a(t,e),href:"#",children:(0,u.jsx)("i",{className:"fa fa-trash"})})})]},t)})(e,t))):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:11,style:{textAlign:"center"},children:"No Result Found"})});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"table-responsive",children:(0,u.jsxs)("table",{id:"customers1",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[m&&(0,u.jsx)("th",{className:"text-center bg2 text-white ",children:(0,u.jsx)("input",{type:"checkbox",checked:p||!1,onChange:m})}),(null===g||void 0===g||null===(t=g.user)||void 0===t?void 0:t.role)!==c.T.user&&(0,u.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Uplevel"}),(0,u.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"User Name"}),(0,u.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Event Name"}),(0,u.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Nation"}),(0,u.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Event Type"}),(0,u.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Type"}),(0,u.jsxs)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:["Rate"," "]}),(0,u.jsx)("th",{className:"text-center bg2 text-white ",children:"Amount"}),(0,u.jsx)("th",{className:"text-center bg2 text-white ",children:"P/L"}),(0,u.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Place Date"}),o&&(0,u.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Action"})]})}),(0,u.jsx)("tbody",{children:v})]})}),(0,u.jsx)(r(),{breakLabel:"...",nextLabel:">>",onPageChange:n,pageRangeDisplayed:5,pageCount:s.totalPages||0,containerClassName:"pagination",activeClassName:"active",previousLabel:"<<",breakClassName:"break-me"})]})}},94552:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(41377),l=s(44414);const n={subheader:e=>a.Fr?(0,l.jsx)("div",{className:"game-heading",children:(0,l.jsx)("span",{className:"card-header-title",children:e})}):"",subheaderdesktop:e=>a.Fr?"":(0,l.jsx)("div",{className:"card-header",children:(0,l.jsx)("h4",{className:"mb-0",children:e})}),subheaderdesktopadmin:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,l.jsxs)("div",{className:"card-header card-header-admin mb-20",children:[(0,l.jsx)("h4",{className:"mb-0",children:e}),""!=t?(0,l.jsx)("div",{className:"m-t-5",children:t}):""]})}}},4446:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(44933);const l=new class{getAccountList(e,t){return a.Ay.post(`account-statement-list?page=${e}`,t)}getProfitLoss(e,t){return a.Ay.post(`profit-loss?page=${e}`,t)}}},39564:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(44933);const l=new class{getUserList(e){let{username:t,type:s,search:l,status:n,page:r}=e;const c=n||"";return t?a.Ay.get(`/get-user-list/?username=${t}&search=${l}&type=${s}&status=${c}&page=${r}`):l&&s?a.Ay.get(`/get-user-list/?search=${l}&type=${s}&status=${c}&page=${r}`):a.Ay.get(`/get-user-list?status=${c}&page=${r}`)}getUserBook(){return a.Ay.get("/get-user-book")}getUserDetail(e){return a.Ay.get(`/get-user-detail/?username=${e}`)}getParentUserDetail(e){return a.Ay.get(`/get-parent-user-detail/?username=${e}`)}addUser(e){return a.Ay.post("/register",e)}updatePassword(e){return a.Ay.post("/update-user",e)}updateDepositBalance(e){return a.Ay.post("/user-account-balance",e)}updateUserExposureAndCreditLimit(e){return a.Ay.post("/update-user-wallet",e)}updateUserStake(e){return a.Ay.post("/save-user-stake",e)}getUserStake(){return a.Ay.get("/get-user-stake")}updateUserAndBetStatus(e){return a.Ay.post("/update-user-status",e)}updateuserpassword(e){return a.Ay.post("/update-password",e)}addTransactionPassword(e){return a.Ay.post("/add-transaction-password",e)}getUserBalance(){return a.Ay.get("/get-user-balance")}getUsercompletedbets(e,t){return a.Ay.post(`/alluserbetList?page=${e}`,t)}getUserListSuggestion(e){return a.Ay.post("get-user-list-suggestion",e)}saveGeneralSetting(e){return a.Ay.post("save-general-setting",e)}resetTxnPassword(e){return a.Ay.post("reset-transaction-password",e)}getExposerEvent(){return a.Ay.get("/get-exposer-event")}}},41925:(e,t,s)=>{s.d(t,{LL:()=>d,O:()=>c,YG:()=>r,bi:()=>n,i$:()=>l,rx:()=>a});s(41377);const a=(e,t)=>{const s=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].slice().reverse().find((t=>e>=t.value));return s?(e/s.value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+s.symbol:"0"},l="MMMM Do YYYY, h:mm A",n="MMMM Do, h:mm:ss A",r=e=>{const t={K:13,Q:12,A:1,J:11},s=e.match(/[A-Z]+/g);let a=0;s&&s.forEach((e=>{for(let s=0;s<e.length;s++){const l=t[e[s]];l&&(a+=l)}}));const l=e.match(/\d+/g);if(l){const e=l.reduce(((e,t)=>e+parseInt(t)),0);a+=e}return a},c=e=>e.replace("DD","").replace("CC","").replace("HH","").replace("SS",""),d=e=>e.replace("DD","").replace("CC","").replace("HH","").replace("SS","").replace("1","").replace("A","1").replace("K","wicket")}}]);
"use strict";(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[2035],{2318:(e,t,a)=>{a.d(t,{A:()=>x});var s=a(59051),l=a.n(s),n=a(99198),c=a.n(n),r=a(94635),i=a(80387),d=a(28674),o=a(54088),h=a(44414);const m=e=>{var t;return""!=e?(null===(t=o.a.SPORT_NAME.filter((t=>t.id==e))[0])||void 0===t?void 0:t.name)||"Casino":""},x=e=>{var t;let{bethistory:a,onTrash:s,handlePageClick:n,isTrash:o,handleSelectAll:x,selectAll:p,handleSelectItem:u}=e;const v=(0,d.G)(i.Qg),j=a&&a.docs&&a.docs.length?a.docs.map(((e,t)=>((e,t)=>{var a,n,c,i;const d=e.isBack?"back":"lay";return(0,h.jsxs)("tr",{className:d,children:[x&&(0,h.jsx)("td",{children:(0,h.jsx)("input",{type:"checkbox",checked:e.selected||!1,onChange:()=>null===u||void 0===u?void 0:u(e)})}),(null===v||void 0===v||null===(a=v.user)||void 0===a?void 0:a.role)!==r.T.user&&(0,h.jsx)("td",{className:"text-center wnwrap",children:e.parentNameStr}),(0,h.jsx)("td",{className:"text-center wnwrap",children:e.userName}),(0,h.jsx)("td",{className:"text-center wnwrap",children:e.matchName}),(0,h.jsxs)("td",{className:"text-center wnwrap",children:[e.selectionName," /"," ","Fancy"===e.marketName&&"fancy1"!==e.gtype?e.volume:e.odds," "]}),(0,h.jsx)("td",{className:"text-center wnwrap",children:m(e.sportId)}),(0,h.jsx)("td",{className:"text-center wnwrap",children:e.marketName}),(0,h.jsx)("td",{className:"text-center wnwrap",children:e.odds}),(0,h.jsx)("td",{className:"text-center wnwrap",children:e.stack}),(0,h.jsx)("td",{className:"text-center wnwrap",children:"completed"==e.status?null===e||void 0===e||null===(n=e.profitLoss)||void 0===n?void 0:n.toFixed(2):null===(c=e.pnl)||void 0===c?void 0:c.toFixed(2)}),(0,h.jsx)("td",{className:"text-center wnwrap",children:e.createdAt&&l()(null===e||void 0===e?void 0:e.createdAt).format("YYYY-MM-DD HH:mm:ss")}),o&&(0,h.jsx)("td",{className:"text-center wnwrap",children:"pending"==e.status&&(null===v||void 0===v||null===(i=v.user)||void 0===i?void 0:i.role)===r.T.admin&&(0,h.jsx)("a",{onClick:t=>s&&s(t,e),href:"#",children:(0,h.jsx)("i",{className:"fa fa-trash"})})})]},t)})(e,t))):(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:11,style:{textAlign:"center"},children:"No Result Found"})});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"table-responsive",children:(0,h.jsxs)("table",{id:"customers1",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[x&&(0,h.jsx)("th",{className:"text-center bg2 text-white ",children:(0,h.jsx)("input",{type:"checkbox",checked:p||!1,onChange:x})}),(null===v||void 0===v||null===(t=v.user)||void 0===t?void 0:t.role)!==r.T.user&&(0,h.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Uplevel"}),(0,h.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"User Name"}),(0,h.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Event Name"}),(0,h.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Nation"}),(0,h.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Event Type"}),(0,h.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Type"}),(0,h.jsxs)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:["Rate"," "]}),(0,h.jsx)("th",{className:"text-center bg2 text-white ",children:"Amount"}),(0,h.jsx)("th",{className:"text-center bg2 text-white ",children:"P/L"}),(0,h.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Place Date"}),o&&(0,h.jsx)("th",{className:"text-center bg2 text-white ",style:{whiteSpace:"nowrap"},children:"Action"})]})}),(0,h.jsx)("tbody",{children:j})]})}),(0,h.jsx)(c(),{breakLabel:"...",nextLabel:">>",onPageChange:n,pageRangeDisplayed:5,pageCount:a.totalPages||0,containerClassName:"pagination",activeClassName:"active",previousLabel:"<<",breakClassName:"break-me"})]})}},52035:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var s=a(59051),l=a.n(s),n=a(9950),c=a(27232),r=a(4446),i=a(41925),d=a(41377),o=a(90154),h=a(18538),m=a(34806),x=a.n(m),p=a(2318),u=a(28674),v=a(96487),j=a(99198),g=a.n(j),N=a(44414);const w=()=>{const e=(0,u.G)(v.Mm),[t,a]=n.useState([]),[s,m]=n.useState([]),[j,w]=n.useState(!1),[b,y]=n.useState({}),[f,S]=n.useState({}),[A,k]=n.useState(1),[C,D]=n.useState(0),[M,L]=n.useState(0),[Y,F]=n.useState({startDate:"",endDate:"",reportType:"All"}),[T,B]=n.useState(0),[P,R]=(0,n.useState)([]),[$,_]=(0,n.useState)(0),[E,H]=(0,n.useState)(0),[G]=(0,n.useState)(50);n.useEffect((()=>{const e=Y;e.startDate=l()().subtract(7,"days").format("YYYY-MM-DD"),e.endDate=l()().format("YYYY-MM-DD"),F(e),I(0)}),[]),n.useEffect((()=>{const e=E+G;R(s.slice(E,e)),_(Math.ceil(s.length/G))}),[E,G,s]);const I=e=>{r.A.getAccountList(e,Y).then((t=>{var s,l,n,c,r,i,d,o,h,x,p;null!==t&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&s.data&&a((null===t||void 0===t||null===(l=t.data)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.items)||[]),null!==t&&void 0!==t&&null!==(c=t.data)&&void 0!==c&&null!==(r=c.data)&&void 0!==r&&r.items&&0==e&&D((null===t||void 0===t||null===(i=t.data)||void 0===i||null===(d=i.data)||void 0===d?void 0:d.openingBalance)||0),m(Q((null===t||void 0===t||null===(o=t.data)||void 0===o||null===(h=o.data)||void 0===h?void 0:h.items)||[],(null===t||void 0===t||null===(x=t.data)||void 0===x||null===(p=x.data)||void 0===p?void 0:p.openingBalance)||0)),B(e)})).catch((e=>{console.log(e),c.oR.error("error")}))},O=e=>{const t=Y;t[e.target.name]=e.target.value,F(t)};n.useEffect((()=>{j&&K(f,A)}),[f,A,j]);const K=(e,t)=>{const a=[],s=(null===e||void 0===e?void 0:e.allBets)||[];if(s.length>0){s.map((e=>{a.push(e.betId)}));const e=a;h.A.getBetListByIds(e,t).then((e=>{y(e.data.data),k(t)}))}},Q=(e,t)=>{const a=[];return e&&e.map(((e,s)=>{t+=e.amount,a.push({_id:e._id,sr_no:s+1,date:l()(e.createdAt).format("lll"),credit:e.amount,debit:e.amount,closing:t.toFixed(2),narration:e.narration,stmt:e})})),a};return(0,N.jsxs)(N.Fragment,{children:[o.A.subheader("Account Statements"),(0,N.jsx)("div",{className:d.Fr?"padding-custom":" mt-1",children:(0,N.jsxs)("div",{className:"",children:[o.A.subheaderdesktop("Account Statements"),(0,N.jsxs)("div",{className:"card-body p0",children:[(0,N.jsx)("form",{className:"ng-pristine ng-valid ng-touched mb-0",method:"post",onSubmit:e=>{e.preventDefault(),I(0)},children:(0,N.jsxs)("div",{className:"row row5",children:[(0,N.jsx)("div",{className:"col-6 col-lg-2 mbc-5",children:(0,N.jsx)("div",{className:"form-group mb-0",children:(0,N.jsx)("div",{className:"mx-datepicker",children:(0,N.jsx)("div",{className:"mx-input-wrapper",children:(0,N.jsx)("input",{name:"startDate",type:"date",autoComplete:"off",onChange:O,defaultValue:Y.startDate,placeholder:"Select Date",className:"mx-input ng-pristine ng-valid ng-touched"})})})})}),(0,N.jsx)("div",{className:"col-6 col-lg-2 mbc-5",children:(0,N.jsx)("div",{className:"form-group mb-0",children:(0,N.jsx)("div",{className:"mx-datepicker",children:(0,N.jsx)("div",{className:"mx-input-wrapper",children:(0,N.jsx)("input",{name:"endDate",type:"date",autoComplete:"off",defaultValue:Y.endDate,onChange:O,placeholder:"Select Date",className:"mx-input ng-untouched ng-pristine ng-valid"})})})})}),(0,N.jsx)("div",{className:"col-12 col-lg-2 mbc-5",children:(0,N.jsx)("div",{className:"form-group mb-0",children:(0,N.jsxs)("select",{name:"reportType",onChange:O,className:"custom-select ng-untouched ng-pristine ng-valid",children:[(0,N.jsx)("option",{value:"ALL",children:"All "}),(0,N.jsx)("option",{value:"chip",children:"Deposit/Withdraw "}),(0,N.jsx)("option",{value:"game",children:"Game Report "})]})})}),(0,N.jsx)("div",{className:"col-12 col-lg-1 mbc-5",children:(0,N.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Submit"})})]})}),(0,N.jsx)("div",{className:"table-responsive",children:(0,N.jsxs)("table",{className:"text-center",id:"customers1",children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{style:{width:"10%",textAlign:"center",whiteSpace:"nowrap"},children:"Sr No."}),(0,N.jsxs)("th",{style:{width:"20%",textAlign:"center",whiteSpace:"nowrap"},children:["Date"," "]}),(0,N.jsx)("th",{style:{width:"10%",textAlign:"center"},children:"Credit "}),(0,N.jsx)("th",{style:{width:"10%",textAlign:"center"},children:"Debit"}),(0,N.jsx)("th",{style:{width:"10%",textAlign:"center"},children:"Balance"}),(0,N.jsx)("th",{style:{width:"45%",textAlign:"center"},children:"Remark"})]})}),(0,N.jsxs)("tbody",{children:[s.length<=0||s.length>0&&s.length<=0&&(0,N.jsx)("tr",{children:(0,N.jsx)("td",{colSpan:8,className:"text-center",children:"No Result Found"})}),s.length>0&&s.length>0&&0==T&&(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{children:"-"}),(0,N.jsx)("td",{className:"wnwrap",children:l()(s[0].createdAt).format(i.i$)}),(0,N.jsx)("td",{children:"-"}),(0,N.jsx)("td",{children:"-"}),(0,N.jsx)("td",{className:"wnwrap",children:null===C||void 0===C?void 0:C.toFixed(2)}),(0,N.jsx)("td",{className:"wnwrap",children:"Opening Balance"})]},s[0]._id),(()=>{let e=1==T?C:M;return P&&P.map(((t,a)=>(e+=t.amount,(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{children:t.sr_no}),(0,N.jsx)("td",{className:"wnwrap",children:t.date}),(0,N.jsx)("td",{className:"green wnwrap",children:t.credit>=0&&t.credit.toFixed(2)}),(0,N.jsx)("td",{className:"red wnwrap",children:t.credit<0&&t.credit.toFixed(2)}),(0,N.jsx)("td",{className:"green wnwrap",children:t.closing}),(0,N.jsx)("td",{className:"",onClick:e=>((e,t)=>{e.preventDefault(),S(t),k(1),w(!0)})(e,t.stmt),children:t.narration})]},`${t._id}${a}`))))})()]})]})}),(0,N.jsx)(g(),{breakLabel:"...",nextLabel:">>",onPageChange:e=>{const t=e.selected*G%s.length;H(t),B(e.selected)},pageRangeDisplayed:5,pageCount:$,containerClassName:"pagination",activeClassName:"active",previousLabel:"<<",breakClassName:"break-me"})]})]})}),(0,N.jsx)(x(),{isOpen:j,onAfterClose:()=>w(!1),onRequestClose:e=>{w(!1)},contentLabel:"Set Max Bet Limit",className:"col-md-12",ariaHideApp:!1,children:(0,N.jsxs)("div",{className:"modal-content",children:[(0,N.jsxs)("div",{className:"modal-header",children:[(0,N.jsx)("h5",{children:"Bets"}),(0,N.jsx)("button",{onClick:()=>w(!1),className:"close float-right",children:(0,N.jsx)("i",{className:"fa fa-times-circle"})})]}),(0,N.jsx)("div",{className:"modal-body",children:!e&&(0,N.jsx)(p.A,{bethistory:b,handlePageClick:e=>{K(f,e.selected+1)},page:T,isTrash:!1})})]})})]})}},90154:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(41377),l=a(44414);const n={subheader:e=>s.Fr?(0,l.jsx)("div",{className:"game-heading",children:(0,l.jsx)("span",{className:"card-header-title",children:e})}):"",subheaderdesktop:e=>s.Fr?"":(0,l.jsx)("div",{className:"card-header",children:(0,l.jsx)("h4",{className:"mb-0",children:e})})}},4446:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(44933);const l=new class{getAccountList(e,t){return s.Ay.post(`account-statement-list?page=${e}`,t)}getProfitLoss(e,t){return s.Ay.post(`profit-loss?page=${e}`,t)}}},41925:(e,t,a)=>{a.d(t,{LL:()=>i,O:()=>r,YG:()=>c,bi:()=>n,i$:()=>l,rx:()=>s});a(41377);const s=(e,t)=>{const a=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].slice().reverse().find((t=>e>=t.value));return a?(e/a.value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+a.symbol:"0"},l="MMMM Do YYYY, h:mm A",n="MMMM Do, h:mm:ss A",c=e=>{const t={K:13,Q:12,A:1,J:11},a=e.match(/[A-Z]+/g);let s=0;a&&a.forEach((e=>{for(let a=0;a<e.length;a++){const l=t[e[a]];l&&(s+=l)}}));const l=e.match(/\d+/g);if(l){const e=l.reduce(((e,t)=>e+parseInt(t)),0);s+=e}return s},r=e=>e.replace("DD","").replace("CC","").replace("HH","").replace("SS",""),i=e=>e.replace("DD","").replace("CC","").replace("HH","").replace("SS","").replace("1","").replace("A","1").replace("K","wicket")}}]);
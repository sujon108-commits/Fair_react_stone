"use strict";(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[3103],{63103:(e,s,r)=>{r.r(s),r.d(s,{default:()=>v});var a=r(9950),t=r(9449),d=r(94635),i=r(39564),l=r(28674),n=r(80387),o=r(60666),c=r(26473),m=r(27232),u=(r(47705),r(28429)),p=r(3170),h=r(88306),x=r(44414);const j=o.Ik().shape({username:o.Yj().trim("User name cannot include leading and trailing spaces").strict(!0).required("Username is required").matches(/^[A-Z][a-z0-9_-]{3,19}$/,"Must Contain One Uppercase"),transactionPassword:o.Yj().required("Transaction Password is required"),password:o.Yj().required("Password is required").min(8,"Password must be at least 8 characters").matches(/^(?=[^a-z]*[a-z])(?=[^A-Z]*[A-Z])(?=\D*\d)[A-Za-z0-9]{8,32}$/,"contains at least one digit,one upper case,one lower case alphabet,"),passwordConfirmation:o.Yj().required("Confirm password is required").oneOf([o.KR("password")],"Passwords must match"),role:o.Yj().required("Role is required"),fullname:o.Yj().required("Full name is required"),creditRefrences:o.Yj().required("Credit Reference is required"),exposerLimit:o.Yj().when("role",{is:"user",then:o.Yj().required("Exposer Limit is required")})}),v=()=>{var e,s,r,o,v,g,N,f,b;const y=(0,l.G)(n.Qg),[w,A]=a.useState(),[$,P]=a.useState(!1),[U,S]=a.useState(!1),C=(0,l.G)(p.rt),{username:_}=(0,u.g)(),{register:L,handleSubmit:q,reset:R,getValues:I,setValue:B,formState:{errors:k}}=(0,t.mN)({resolver:(0,c.t)(j)});a.useEffect((()=>{_&&i.A.getUserDetail(_).then((e=>{A(e.data.data)}))}),[_]);const O=q((e=>{if(e.role!==d.T.user){const s=e.partnership,r={};s.forEach(((e,s)=>{void 0!==e&&(r[s]=e)})),e.partnership=r;const a={};e.minbet.forEach(((e,s)=>{if(void 0!==e){const r={minBet:e};a[s]=r}}));e.maxbet.forEach(((e,s)=>{if(void 0!==e){const r={maxBet:e};a[s]=Object.assign(a[s],r)}}));e.delay.forEach(((e,s)=>{if(void 0!==e){const r={delay:e};a[s]=Object.assign(a[s],r)}})),e.userSetting=a}e.parent=null===F||void 0===F?void 0:F.username,delete e.maxbet,delete e.minbet,delete e.delay,delete e.partnershipOur,i.A.addUser(e).then((()=>{m.oR.success("User successfully created"),R()}))})),F=w||(null===y||void 0===y?void 0:y.user);return(0,x.jsx)("div",{className:"container-fluid",children:(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12 main-container",children:(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"add-account",children:[(0,x.jsx)("h2",{className:"m-b-20",children:"Add Accounts"}),(0,x.jsxs)("form",{onSubmit:O,children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-6 personal-detail",children:[(0,x.jsx)("h4",{className:"m-b-20 col-md-12",children:"Personal Detail"}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"username",children:"Client Name:"}),(0,x.jsx)("input",{placeholder:"Client Name",id:"username",...L("username"),defaultValue:"",type:"text",className:"form-control"}),(0,x.jsx)("span",{id:"username-error",className:"error",style:{display:"none"},children:"Username already taken"}),(null===k||void 0===k?void 0:k.username)&&(0,x.jsx)("span",{id:"username-required",className:"error",children:k.username.message})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"password",children:"User password:"}),(0,x.jsx)("input",{maxLength:45,placeholder:"Password",id:"password",...L("password"),type:"password",className:"form-control"}),(null===k||void 0===k?void 0:k.password)&&(0,x.jsx)("span",{id:"password-error",className:"error",children:k.password.message})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"password_confirmation",children:"Retype password:"}),(0,x.jsx)("input",{maxLength:45,placeholder:"Retype Password",id:"password_confirmation",...L("passwordConfirmation"),type:"password",className:"form-control"}),(null===k||void 0===k?void 0:k.passwordConfirmation)&&(0,x.jsx)("span",{id:"password_confirmation-error",className:"error",children:k.passwordConfirmation.message})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"fullname",children:"Full Name:"}),(0,x.jsx)("input",{placeholder:"Full Name",...L("fullname"),id:"fullname",defaultValue:"",type:"text",className:"form-control"}),(null===k||void 0===k?void 0:k.fullname)&&(0,x.jsx)("span",{id:"fullname-error",className:"error",children:k.fullname.message})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"city",children:"City:"}),(0,x.jsx)("input",{maxLength:15,placeholder:"City",...L("city"),id:"city",defaultValue:"",type:"text",className:"form-control"}),(null===k||void 0===k?void 0:k.city)&&(0,x.jsx)("span",{id:"city-error",className:"error",children:k.city.message})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"phone",children:"Phone:"}),(0,x.jsx)("input",{maxLength:10,placeholder:"Phone",...L("phone"),id:"phone",type:"number",className:"form-control"}),(null===k||void 0===k?void 0:k.phone)&&(0,x.jsx)("span",{id:"phone-error",className:"error",children:k.phone.message})]})})]})]}),(0,x.jsxs)("div",{className:"col-md-6 account-detail",children:[(0,x.jsx)("h4",{className:"m-b-20 col-md-12",children:"Account Detail"}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"role",children:"Account Type:"}),(0,x.jsxs)("select",{...L("role",{onChange:e=>{e.target.value==d.T.user?P(!0):P(!1),e.target.value==d.T.user?S(!0):S(!1)}}),id:"role",className:"form-control",children:[(0,x.jsx)("option",{value:"",children:"- Select Your Account Type -"}),(()=>{const e=F.role,s=JSON.parse(JSON.stringify(d.w));delete s.admin;const r=s;if(e&&"admin"!=e){const s=Object.keys(r),a=s.indexOf(e);return s.slice(a+1).map(((s,a)=>!(+e>=++a)&&(0,x.jsx)("option",{value:s,children:r[s]},a)))}return Object.keys(r).map(((e,s)=>(0,x.jsx)("option",{value:e,children:r[e]},s)))})()]}),(null===k||void 0===k?void 0:k.role)&&(0,x.jsx)("span",{id:"role-error",className:"error",children:k.role.message})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"creditrefrence",children:"Credit Reference:"}),(0,x.jsx)("input",{className:"form-control",placeholder:"Credit Reference",...L("creditRefrences"),id:"creditRefrences",defaultValue:"",min:"0",type:"number"}),(null===k||void 0===k?void 0:k.creditRefrences)&&(0,x.jsx)("span",{id:"creditrefrence-error",className:"error",children:k.creditRefrences.message})]})}),U&&(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"form-group",id:"exposer-limit",children:[(0,x.jsx)("label",{htmlFor:"exposerLimit",children:"Exposer Limit:"}),(0,x.jsx)("input",{placeholder:"Exposer Limit",id:"exposerLimit",...L("exposerLimit"),defaultValue:"",type:"number",className:"form-control",min:"0"}),(null===k||void 0===k?void 0:k.exposerLimit)&&(0,x.jsx)("span",{id:"exposerlimit-error",className:"error",children:k.exposerLimit.message})]})})]})]})]}),!U&&(0,x.jsx)("div",{className:"row m-t-20",id:"partnership-div",children:(0,x.jsxs)("div",{className:"col-md-12",children:[(0,x.jsx)("h4",{className:"m-b-20 col-md-12",children:"Partnership"}),(0,x.jsxs)("table",{className:"table table-striped table-bordered",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{}),C.sports.map((e=>1===e.sportId||2===e.sportId||4===e.sportId?(0,x.jsx)("th",{children:e.name},e._id):(0,x.jsx)("th",{},e._id)))]})}),(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Upline"}),C.sports.map((e=>{var s;let{_id:r,sportId:a}=e;return 1==a||2==a||4==a?(0,x.jsx)("td",{id:"taxpartnership-upline",children:null===F||void 0===F||null===(s=F.partnership)||void 0===s?void 0:s[a].ownRatio},`upline-${r}`):(0,x.jsx)("td",{},r)}))]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Downline"}),null===(e=C.sports)||void 0===e?void 0:e.map((e=>{var s;let{_id:r,sportId:a}=e;return 1==a||2==a||4==a?(0,x.jsxs)("td",{children:[(0,x.jsx)("input",{className:"partnership",...L(`partnership.${a}`,{onChange:e=>{var s;const r=null===(s=F.partnership)||void 0===s?void 0:s[a].ownRatio;B(`partnershipOur.${a}`,r?r-e.target.value:I(`partnershipOur.${a}`))}}),id:`partnership.${a}`,placeholder:"",max:null===F||void 0===F||null===(s=F.partnership)||void 0===s?void 0:s[a].ownRatio,min:"0",defaultValue:0,type:"number",disabled:$}),(0,x.jsx)("span",{className:"error"})]},r):(0,x.jsx)("td",{},r)}))]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Our"}),null===(s=C.sports)||void 0===s?void 0:s.map((e=>{var s;let{_id:r,sportId:a}=e;return 1==a||2==a||4==a?(0,x.jsx)("td",{id:`taxpartnership-our.${a}`,children:(0,x.jsx)("input",{...L(`partnershipOur.${a}`),value:null===F||void 0===F||null===(s=F.partnership)||void 0===s?void 0:s[a].ownRatio,disabled:!0})},r):(0,x.jsx)("td",{},r)}))]})]})]})]})}),(0,x.jsx)("div",{className:"row m-t-20",id:"min-max-bet-div",children:(0,x.jsxs)("div",{className:"col-md-12",children:[(0,x.jsx)("h4",{className:"m-b-20 col-md-12",children:"Min Max Bet"}),(0,x.jsxs)("table",{className:"table table-striped table-bordered",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{}),null===(r=C.sports)||void 0===r?void 0:r.map((e=>1===e.sportId||2===e.sportId||4===e.sportId?(0,x.jsx)("th",{children:e.name},e._id):(0,x.jsx)("th",{},e._id)))]})}),(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Min Bet"}),null===(o=C.sports)||void 0===o?void 0:o.map((e=>{var s;let{_id:r,sportId:a}=e;return 1==a||2==a||4==a?(0,x.jsx)("td",{id:"minbet",children:null===F||void 0===F||null===(s=F.userSetting)||void 0===s?void 0:s[a].minBet},r):(0,x.jsx)("td",{},r)}))]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Provide Min Bet"}),null===(v=C.sports)||void 0===v?void 0:v.map((e=>{var s;let{_id:r,sportId:a}=e;return 1==a||2==a||4==a?(0,x.jsxs)("td",{children:[(0,x.jsx)("input",{id:`minbet.${a}`,className:`minbet.${a}`,...L(`minbet.${a}`),placeholder:"",max:null===F||void 0===F||null===(s=F.userSetting)||void 0===s?void 0:s[a].minBet,min:0,defaultValue:0,disabled:$,type:"number"}),(0,x.jsx)("span",{className:"error"})]},r):(0,x.jsx)("td",{},r)}))]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Max Bet"}),null===(g=C.sports)||void 0===g?void 0:g.map((e=>{var s;let{_id:r,sportId:a}=e;return 1==a||2==a||4==a?(0,x.jsx)("td",{id:"maxbet",children:null===F||void 0===F||null===(s=F.userSetting)||void 0===s?void 0:s[a].maxBet},r):(0,x.jsx)("td",{},r)}))]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Provide Min Bet"}),null===(N=C.sports)||void 0===N?void 0:N.map((e=>{var s;let{_id:r,sportId:a}=e;return 1==a||2==a||4==a?(0,x.jsxs)("td",{children:[(0,x.jsx)("input",{id:`maxbet.${a}`,className:`maxbet.${a}`,...L(`maxbet.${a}`),placeholder:"",max:null===F||void 0===F||null===(s=F.userSetting)||void 0===s?void 0:s[a].maxBet,defaultValue:0,disabled:$,min:0,type:"number"}),(0,x.jsx)("span",{className:"error"})]},r):(0,x.jsx)("td",{},r)}))]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Delay"}),null===(f=C.sports)||void 0===f?void 0:f.map((e=>{var s;let{_id:r,sportId:a}=e;return 1==a||2==a||4==a?(0,x.jsx)("td",{id:"delay",children:null===F||void 0===F||null===(s=F.userSetting)||void 0===s?void 0:s[a].delay},r):(0,x.jsx)("td",{},r)}))]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Provide Delay"}),null===(b=C.sports)||void 0===b?void 0:b.map((e=>{var s;let{_id:r,sportId:a}=e;return 1==a||2==a||4==a?(0,x.jsxs)("td",{children:[(0,x.jsx)("input",{id:`delay.${a}`,className:`delay.${a}`,...L(`delay.${a}`),placeholder:"",max:null===F||void 0===F||null===(s=F.userSetting)||void 0===s?void 0:s[a].delay,defaultValue:0,disabled:$,type:"number"}),(0,x.jsx)("span",{className:"error"})]},r):(0,x.jsx)("td",{},r)}))]})]})]})]})}),(0,x.jsx)("div",{className:"row m-t-20",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"form-group col-md-3 float-right",children:[(0,x.jsx)("label",{htmlFor:"transactionPassword",children:"Transaction Password:"}),(0,x.jsx)("input",{maxLength:15,placeholder:"Transaction Password",...L("transactionPassword"),defaultValue:"",id:"transactionPassword",type:"password",className:"form-control"}),(null===k||void 0===k?void 0:k.transactionPassword)&&(0,x.jsx)("span",{id:"transactionPassword-error",className:"error",children:k.transactionPassword.message})]})})}),(0,x.jsx)("div",{className:"row m-t-20",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)("div",{className:"float-right",children:(0,x.jsx)(h.A,{className:"btn btn-submit",type:"submit",children:"Create User"})})})})]})]})})})})})}},88306:(e,s,r)=>{r.d(s,{A:()=>i});r(9950);var a=r(96487),t=r(28674),d=r(44414);const i=e=>{const{children:s,...r}=e,i=(0,t.G)(a.Mm);return(0,d.jsx)("button",{disabled:i,...r,children:s})}},39564:(e,s,r)=>{r.d(s,{A:()=>t});var a=r(44933);const t=new class{getUserList(e){let{username:s,type:r,search:t,status:d,page:i}=e;const l=d||"";return s?a.Ay.get(`/get-user-list/?username=${s}&search=${t}&type=${r}&status=${l}&page=${i}`):t&&r?a.Ay.get(`/get-user-list/?search=${t}&type=${r}&status=${l}&page=${i}`):a.Ay.get(`/get-user-list?status=${l}&page=${i}`)}getUserBook(){return a.Ay.get("/get-user-book")}getUserDetail(e){return a.Ay.get(`/get-user-detail/?username=${e}`)}getParentUserDetail(e){return a.Ay.get(`/get-parent-user-detail/?username=${e}`)}addUser(e){return a.Ay.post("/register",e)}updatePassword(e){return a.Ay.post("/update-user",e)}updateDepositBalance(e){return a.Ay.post("/user-account-balance",e)}updateUserExposureAndCreditLimit(e){return a.Ay.post("/update-user-wallet",e)}updateUserStake(e){return a.Ay.post("/save-user-stake",e)}getUserStake(){return a.Ay.get("/get-user-stake")}updateUserAndBetStatus(e){return a.Ay.post("/update-user-status",e)}updateuserpassword(e){return a.Ay.post("/update-password",e)}addTransactionPassword(e){return a.Ay.post("/add-transaction-password",e)}getUserBalance(){return a.Ay.get("/get-user-balance")}getUsercompletedbets(e,s){return a.Ay.post(`/alluserbetList?page=${e}`,s)}getUserListSuggestion(e){return a.Ay.post("get-user-list-suggestion",e)}saveGeneralSetting(e){return a.Ay.post("save-general-setting",e)}resetTxnPassword(e){return a.Ay.post("reset-transaction-password",e)}getExposerEvent(){return a.Ay.get("/get-exposer-event")}}}}]);